# 高画质设置更新说明

## 更新内容

### 📁 默认输出目录
- **新增**: `output` 文件夹作为默认输出目录
- **位置**: `d:\FF\FFPR\output\`
- **说明**: 所有生成的视频文件将自动保存到此目录

### 🎥 高画质默认设置

#### 画质参数优化
| 参数 | 旧设置 | 新设置 | 说明 |
|------|--------|--------|------|
| **CRF** | 23 | **18** | 提高视频质量（越小质量越好） |
| **预设** | medium | **slow** | 提高压缩效率和质量 |
| **分辨率** | 1920x1080 | 1920x1080 | 保持高清分辨率 |
| **帧率** | 30fps | 30fps | 保持流畅播放 |

#### 画质等级对比
```
CRF值说明:
- 18: 视觉接近无损 (新默认值) ⭐⭐⭐⭐⭐
- 20: 极高质量
- 23: 高质量 (旧默认值) ⭐⭐⭐
- 26: 中等质量  
- 28: 较低质量

预设说明:
- slow: 高质量压缩 (新默认值) ⭐⭐⭐⭐⭐
- medium: 平衡速度和质量 (旧默认值) ⭐⭐⭐
- fast: 快速编码
```

## 使用说明

### 自动应用高画质设置
运行程序时，新的高画质设置将自动应用：
```bash
python cli.py
```

程序启动时将显示当前画质设置：
```
=============================================================
      自动化视频剪辑工具 (Python 2.7.18 + FFmpeg)
=============================================================
当前画质设置:
  - 分辨率: 1920x1080
  - 帧率: 30fps  
  - 视频质量: CRF 18 (高质量)
  - 编码预设: slow (高质量)
  - 输出目录: output
=============================================================
```

### 输出目录说明
- **默认**: 程序会提示 `输出目录（默认：output）:`
- **自动创建**: 如果output文件夹不存在，程序会自动创建
- **自定义**: 仍可以指定其他输出目录

### 文件大小预期
使用新的高画质设置后：
- **文件大小**: 比之前增加约30-50%
- **视频质量**: 明显提升，更适合专业用途
- **编码时间**: 增加约20-30%（slow预设）

## 性能影响

### 处理时间
| 视频时长 | 旧设置(medium) | 新设置(slow) | 增加时间 |
|----------|----------------|--------------|----------|
| 60秒     | ~2分钟         | ~2.5分钟     | +25%     |
| 120秒    | ~4分钟         | ~5分钟       | +25%     |
| 300秒    | ~10分钟        | ~12.5分钟    | +25%     |

### 文件大小对比
| 时长 | 旧设置(CRF23) | 新设置(CRF18) | 大小增加 |
|------|---------------|---------------|----------|
| 60秒 | ~50MB         | ~75MB         | +50%     |
| 120秒| ~100MB        | ~150MB        | +50%     |
| 300秒| ~250MB        | ~375MB        | +50%     |

## 配置自定义

### 临时调整画质
如果需要快速处理或较小文件，可以在程序运行时选择自定义参数：
- 选择 `是否自定义输出参数？(Y/n): y`（默认选择Y）
- 可以临时调整CRF值（如23或26）
- 可以选择faster预设

### 永久修改默认设置
编辑 `config.json` 文件：
```json
{
    "video": {
        "default_crf": 18,          // 调整此值改变默认质量
        "default_preset": "slow",   // 调整此值改变默认预设
        "default_output_dir": "output"
    }
}
```

## 建议使用场景

### 高画质设置适用于：
- ✅ 专业视频制作
- ✅ 需要二次编辑的素材
- ✅ 高质量存档
- ✅ 重要项目

### 如需快速处理：
- 临时调整CRF到23-26
- 使用medium或fast预设
- 适用于预览或测试

## 注意事项
1. **磁盘空间**: 确保有足够空间存储高质量视频
2. **处理时间**: 高质量编码需要更多时间
3. **系统性能**: 建议在CPU性能较好的机器上使用
4. **后续处理**: 高质量设置更适合需要进一步编辑的场景
